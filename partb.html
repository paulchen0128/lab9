<html lang="en">
<head>
<style>
    .button {
    position: absolute;
    height: 5em;
    width: 10em;
    left: 0px;
    top: 60px;
    }
</style>
    
</head>
<body>
    <input type="text" id="box">
    <input type="button" id="button" value="Go!">

    

<script>



function readbox() {
    let box = document.getElementById("box").value;
    number = box
    if (box > 100) {
        alert('Number must be under 100')
    } else if (isNaN(box)) {
        alert('Only number please')
    } else {
        return box
    }
}

function createbutton(num) {
    for (i = 0; i < num; i++) {
        let butt = new Button();
        x = i * 160;
        butt.DOMobj.id = i;
        butt.DOMobj.style.left = x + 'px';
        butt.DOMobj.style.top = '30px';
        butt.DOMobj.onclick = function() { inorder(butt.DOMobj.id) };
        setTimeout( function () { butt.DOMobj.style.background = butt.color}, 1);
        setTimeout( function () { move(butt.DOMobj) }, 2000);
        
    }
    return num
}


function Button() {
    let r = Math.random() * 256;
    let g = Math.random() * 256;
    let b = Math.random() * 256;
    this.color = 'rgb(' +r + ", " + g + ', ' + b +')';
    this.DOMobj = document.createElement('Button');
    this.DOMobj.className = 'button';
    this.DOMobj.style.width = "10em";
    this.DOMobj.style.height = "5em";
    document.body.appendChild(this.DOMobj);
}

function move(butt) {
    let z = window.innerWidth - 128;
    let c = window.innerHeight - 128;
    let x = Math.random() * z;
    let y = Math.random() * c;
    console.log(x, y, z, c)
    butt.style.top = y + 'px';
    butt.style.left = x + 'px';
}

let counter = 0
function inorder (id) {
    if (id == counter) {
        counter++;
        console.log(counter)
        console.log(number);
    } else {
        alert("Wrong Order!")
    }
    if (number == counter) {
        alert("Congrats")
    }

}
document.getElementById('button').onclick = function () { createbutton(readbox()) };


</script>
</body>
</html>
